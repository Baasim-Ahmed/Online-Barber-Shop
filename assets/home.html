<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THE TRADITIONAL TRIM</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />
  <style>
    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      background-color: rgb(255 255 255);
    }

    .headermain {
      display: flex;
      width: 100vw;
      height: 100px;
      justify-content: space-evenly;
      align-items: center;
    }

    .headerleft {
      display: flex;
      justify-content: center;
      text-align: center;
    }

    .headerright {
      display: flex;
      justify-content: center;
      text-align: center;
    }

    .headerright ul li {
      margin-top: 10px;
      list-style-type: none;
    }

    .headerright ul {
      display: flex;
      gap: 20px;
      justify-content: center;
      text-align: center;
    }

    .herosec {
      height: 70vh;
      background: url("/images/hero-img.jpg");
      background-size: contain;
      background-repeat: no-repeat;
      display: flex;
    }

    .aboutsec {
      display: flex;
      margin: 30px auto;
      /* background-color: aqua; */
      height: 100vh;
      width: 90vw;
      gap: 26px;
    }

    footer {
      background-color: #1c1c1c;
      color: #fff;
      padding: 40px 0;
      text-align: left;
    }

    .footer-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      margin: 0 auto;
      width: 80%;
    }

    .footer-column {
      flex: 1;
      margin: 20px;
      min-width: 200px;
    }

    .footer-column h3 {
      margin-bottom: 20px;
    }

    .footer-column p,
    .footer-column a {
      color: #fff;
      text-decoration: none;
      line-height: 1.6;
    }

    .footer-column a:hover {
      text-decoration: underline;
    }

    .newsletter input[type="email"] {
      padding: 10px;
      width: calc(100% - 100px);
      border: none;
      border-radius: 5px 5px;
      margin-top: 5px;
    }

    .newsletter button {
      padding: 10px;
      width: 100px;
      border: none;
      border-radius: 5px;
      background-color: #d4af37;
      color: #fff;
      cursor: pointer;
      margin-top: 5px;
    }

    .newsletter button:hover {
      background-color: #b08b2e;
    }

    .aboutsecleft {
      width: 45%;
      height: 80%;
      background: url("/images/about-img.jpg");
      background-repeat: no-repeat;
      background-size: cover;
      border-radius: 12px;
    }

    .aboutsecright {
      width: 55%;
      height: 50%;
      padding: 20px 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      flex-direction: column;
      /* background-color: #d4af37; */
      background-color: rgb(255, 244, 244);
      border-radius: 12px;
    }

    .aboutsecright h3,
    p {
      padding-bottom: 6px;
    }

    .herosecPost h1 {
      color: white;
      text-align: left;
      font-size: 50px;
      line-height: 40px;
      margin-left: 50px;
      margin-top: 100px;
      padding: 10px;
    }

    .herosec p {
      color: white;
      font-size: 25px;
      margin-left: 55px;
      padding: 10px;
    }

    .button-5 {
      align-items: center;
      background-clip: padding-box;
      background-color: #aa9144;
      border: 1px solid transparent;
      border-radius: 20px;
      box-shadow: rgba(0, 0, 0, 0.02) 0 1px 3px 0;
      box-sizing: border-box;
      color: #fff;
      cursor: pointer;
      display: inline-flex;
      font-family: system-ui, -apple-system, system-ui, "Helvetica Neue",
        Helvetica, Arial, sans-serif;
      font-size: 16px;
      font-weight: 600;
      justify-content: center;
      line-height: 1.25;
      margin-left: 60px;
      min-height: 3rem;
      padding: calc(0.875rem - 1px) calc(1.5rem - 1px);
      position: relative;
      text-decoration: none;
      transition: all 250ms;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
      vertical-align: baseline;
      width: auto;
    }

    .button-5:hover,
    .button-5:focus {
      background-color: #fb8332;
      box-shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;
    }

    .button-5:hover {
      transform: translateY(-1px);
    }

    .button-5:active {
      background-color: #c85000;
      box-shadow: rgba(0, 0, 0, 0.06) 0 2px 4px;
      transform: translateY(0);
    }

    .headerright ul a:hover {


      color: #aa9144;
    }

    .headerright ul a {
      font-size: 20px;
      text-decoration: none;
      color: black;
    }

    #floating-box {
      position: fixed;
      /* Keeps the box in the same position while scrolling */
      top: 10px;
      /* Distance from the top of the viewport */
      right: 10px;
      /* Distance from the right of the viewport */
      width: 150px;
      height: 70px;
      background-color: rgba(189, 38, 38, 0.664);
      border: 1px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      padding: 10px;
    }

    #creditpoints {
      text-align: center;
    }
  </style>
</head>

<body>
  <div id="floating-box">
    <h4>Credit Points:</h4>
    <p id="creditpoints"></p>
  </div>
  <header>
    <div class="headermain">
      <div class="headerleft">
        <img src="/images/logo2.png" alt="" />
      </div>
      <div class="headerright">
        <ul>
          <li><a onclick="ToServices()" href="#">Service</a></li>
          <li><a onclick="ToContacts()" href="#">Contact</a></li>
          <button class="button-5" role="button" style="background-color: brown;margin-left: 8px;font-size: 15px;"
            onclick="Log_out()">Log Out</button>

        </ul>
      </div>
    </div>
  </header>
  <section>
    <div class="herosec">
      <div class="herosecPost">
        <h1>
          THE TRADITIONAL TRIM <br />

        </h1>
        <p>Where Tradition Meets The Trend</p>
        <p style="font-size: medium; color: #c85000;">Collect Credit Points on Every Service, Reach 100 Pionts to avail
          discounts !!</p>
        <button class="button-5" role="button" onclick="ToBookAppointment()">Book appointment</button>
      </div>
    </div>
  </section>
  <section>
    <div class="aboutsec">
      <div class="aboutsecleft"></div>
      <div class="aboutsecright">
        <h3>ABOUT US</h3>
        <p>
          Step into a bygone era of refined grooming.

          At The Traditional Trim, we honor the timeless art of barbering. Our skilled artisans are dedicated to
          providing classic haircuts and shaves that exude elegance and sophistication.

          Experience the meticulous attention to detail as our experienced barbers guide you through a traditional
          grooming ritual. From the perfect scissor cut to the soothing hot towel shave, every step is designed to leave
          you looking and feeling your best.
        </p>
      </div>
    </div>
  </section>
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h3>SALON ADDRESS</h3>
        <p>890, Sector 62, Gyan Sarovar, GAIL, Noida (Delhi/NCR)</p>
        <p>+7896541236</p>
        <p>info@gmail.com</p>
      </div>
      <div class="footer-column">
        <h3>SOCIAL FEED</h3>
        <p><a href="#">Facebook</a></p>
        <p><a href="#">Twitter</a></p>
        <p><a href="#">Google Plus</a></p>
        <p><a href="#">LinkedIn</a></p>
        <p><a href="#">YouTube</a></p>
      </div>
      <div class="footer-column newsletter">
        <h3>NEWSLETTERS</h3>
        <p>
          Enter your email address to receive new information and
          other useful information right to your inbox.
        </p>
        <form>
          <input type="email" placeholder="Enter your email address" />
          <button type="submit">SUBSCRIBE</button>
        </form>
      </div>
    </div>
    <div style="text-align: center; padding-top: 20px">
      <p>THE TRADITIONAL TRIM</p>
      <input id="customerID" hidden />
    </div>
  </footer>
</body>

</html>



<script>

document.addEventListener('DOMContentLoaded', function () {
  // Get customerID from query parameters
  const params = getQueryParams();
  const customerID = params.customerID;

  // Display the customerID on the page
  if (customerID) {
    document.getElementById("customerID").value = customerID;
    // Fetch credit points only after customerID is set
    fetchCreditPoints(customerID);
  }
});

function getQueryParams() {
  const params = {};
  const queryString = window.location.search.substring(1);
  const pairs = queryString.split("&");
  for (const pair of pairs) {
    const [key, value] = pair.split("=");
    params[key] = decodeURIComponent(value);
  }
  return params;
}

async function fetchCreditPoints(custID) {
  try {
    const response = await fetch(`http://localhost:3000/api/creditpoints/${custID}`);
    if (!response.ok) {
      throw new Error(HTTP `error!` `Status: ${response.status}`);
    }
    const data = await response.json();
    const CreditElement = document.getElementById('creditpoints');

    if (data.CreditPoints == null) {
      CreditElement.textContent = 0; // Default to 0 if null
    } else {
      CreditElement.textContent = data.CreditPoints; // Update with the actual value
    }
  } catch (error) {
    console.error('Error fetching credit points:', error);
  }
}




  fetchCreditPoints(custID);

  function ToBookAppointment() {
    window.location.href = 'appoinment.html?customerID=' + document.getElementById("customerID").value;
  }

  function ToServices() {
    window.location.href = 'service_cust.html?customerID=' + document.getElementById("customerID").value;
  }

  function ToContacts() {
    window.location.href = 'contact_cust.html?customerID=' + document.getElementById("customerID").value;
  }

  function Log_out() {
    alert("Log Out Successful")
    window.location.href = 'login_cust.html';
  }
  fetchCreditPoints()

</script>